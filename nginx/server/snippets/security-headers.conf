# ----------------------------------------------------------------------
# 添加一系列增强浏览器安全性的HTTP头
# ----------------------------------------------------------------------

# 防止MIME类型嗅探攻击
add_header X-Content-Type-Options "nosniff" always;

# 开启浏览器内置的XSS保护
add_header X-XSS-Protection "1; mode=block" always;

# 防止点击劫持攻击
add_header X-Frame-Options "SAMEORIGIN" always;

# 严格的来源策略，控制哪些资源可以被加载
add_header Referrer-Policy "no-referrer-when-downgrade" always;

# 内容安全策略 (CSP) - 这是一个非常强大的功能，但配置复杂。
# 以下是一个非常基础的起点，你可能需要根据你的网站进行定制。
# add_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline';";

# HSTS - 强制浏览器在未来一段时间内只能通过HTTPS访问 (确保你的SSL配置完美无误后再开启)
add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" always;